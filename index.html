<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Deine Musik-App, Digga</title>
  <style>
    body { font-family: Arial, sans-serif; background: #181818; color: #fff; }
    .player { margin-top: 20px; }
    .track-list { margin-top: 10px; }
    button { background: #282828; color: #fff; border: none; border-radius: 6px; padding: 8px 16px; margin: 5px;}
    input[type="file"] { color: #fff; }
    .header { font-size: 1.6em; margin-bottom: 10px; letter-spacing: 1px;}
  </style>
</head>
<body>
  <div class="header">ðŸŽµ Musik-App Deluxe by Steve ðŸ˜Ž</div>
  <input type="file" id="fileInput" multiple accept="audio/*">
  <div class="track-list" id="trackList"></div>
  <div class="player" id="playerDiv" style="display:none;">
    <audio id="audioPlayer" controls></audio>
    <div>
      <button onclick="prevTrack()">ZurÃ¼ck</button>
      <button onclick="nextTrack()">Weiter</button>
    </div>
  </div>

  <script>
    let tracks = [];
    let currentTrack = 0;

    document.getElementById('fileInput').addEventListener('change', function(e) {
      tracks = Array.from(e.target.files);
      currentTrack = 0;
      showTracks();
      if (tracks.length > 0) {
        playTrack(0);
        document.getElementById('playerDiv').style.display = '';
      }
    });

    function showTracks() {
      const listDiv = document.getElementById('trackList');
      listDiv.innerHTML = '';
      tracks.forEach((track, i) => {
        listDiv.innerHTML += `
          <div style="margin:6px;">
            <span>${i+1}. ${track.name}</span>
            <button onclick="playTrack(${i})">Play</button>
          </div>`;
      });
    }

    function playTrack(idx) {
      currentTrack = idx;
      const audio = document.getElementById('audioPlayer');
      audio.src = URL.createObjectURL(tracks[idx]);
      audio.play();
    }

    function nextTrack() {
      if (currentTrack < tracks.length - 1) {
        playTrack(currentTrack + 1);
      } else {
        playTrack(0);
      }
    }

    function prevTrack() {
      if (currentTrack > 0) {
        playTrack(currentTrack - 1);
      } else {
        playTrack(tracks.length - 1);
      }
    }

    // Optional: automatisches Weiter nach Song-Ende
    document.getElementById('audioPlayer').addEventListener('ended', nextTrack);
  </script>
</body>
</html>
